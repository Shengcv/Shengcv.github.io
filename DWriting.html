<!-- build time:Thu Jul 09 2020 15:44:42 GMT+0800 (香港标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><title>博客性能优化 - 御树树的小窝</title><meta charset="UTF-8"><meta name="description" content="This is a blog in order to record my learning and growth."><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><meta name="google-site-verification" content="jHeXyQbSWeqtZESqthMtBjLJrlu4anJDv2yOoK0P8hk"><meta name="baidu-site-verification" content="jwUjIY1r04"><link rel="shortcut icon" href="/image/shengcva.ico" type="image/png"><meta name="description" content="自从博客建立以来速度就一直不怎么理想,所以我在昨天为博客优化了一下,现在访问速度大幅提升,本文详细记录了我的优化过程,以供参考."><meta property="og:type" content="article"><meta property="og:title" content="博客性能优化"><meta property="og:url" content="https://shengcv.xyz/DWriting.html"><meta property="og:site_name" content="御树树的小窝"><meta property="og:description" content="自从博客建立以来速度就一直不怎么理想,所以我在昨天为博客优化了一下,现在访问速度大幅提升,本文详细记录了我的优化过程,以供参考."><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://p.sda1.dev/0/c923ba82aa4974c46303b4b8a1aa5bf8/D4.jpg"><meta property="og:image" content="https://i.loli.net/2020/04/22/neHrvzu9ExpOZT7.jpg"><meta property="og:image" content="https://i.loli.net/2020/04/22/tm4jRELuMe7YDFy.jpg"><meta property="og:image" content="https://i.loli.net/2020/04/22/z4aBXOrDMUHRgm2.jpg"><meta property="article:published_time" content="2020-03-29T04:29:57.000Z"><meta property="article:modified_time" content="2020-05-28T07:08:25.141Z"><meta property="article:author" content="御剑神树"><meta property="article:tag" content="博客"><meta property="article:tag" content="Hexo"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://p.sda1.dev/0/c923ba82aa4974c46303b4b8a1aa5bf8/D4.jpg"><link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/gh/nexmoe/nexmoe.github.io@latest/css/style.css,npm/highlight.js@9.15.8/styles/atom-one-dark.css,gh/nexmoe/nexmoe.github.io@latest/lib/mdui_043tiny/css/mdui.css,gh/nexmoe/nexmoe.github.io@latest/lib/iconfont/iconfont.css" crossorigin><link rel="stylesheet" href="/css/style.css?v=1594280682312"><meta name="generator" content="Hexo 4.2.0"></head><body class="mdui-drawer-body-left"><div id="nexmoe-background"><div class="nexmoe-bg" style="background-image:url(https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg)"></div><div class="mdui-appbar mdui-shadow-0"><div class="mdui-toolbar"><a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a><div class="mdui-toolbar-spacer"></div><a href="/" title="御剑神树" class="mdui-btn mdui-btn-icon"><img src="https://cdn.jsdelivr.net/gh/Shengcv/ShengcvCDN@1.0/shengcvcs.jpg" alt="御剑神树"></a></div></div></div><div id="nexmoe-header"><div class="nexmoe-drawer mdui-drawer" id="drawer"><div class="nexmoe-avatar mdui-ripple"><a href="/" title="御剑神树"><img src="https://cdn.jsdelivr.net/gh/Shengcv/ShengcvCDN@1.0/shengcvcs.jpg" alt="御剑神树" alt="御剑神树"></a></div><div class="nexmoe-count"><div><span>文章</span>5</div><div><span>标签</span>6</div><div><span>分类</span>2</div></div><div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}"><a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页"><i class="mdui-list-item-icon nexmoefont icon-home"></i><div class="mdui-list-item-content">回到首页</div></a><a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives" title="文章归档"><i class="mdui-list-item-icon nexmoefont icon-container"></i><div class="mdui-list-item-content">文章归档</div></a><a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于博客"><i class="mdui-list-item-icon nexmoefont icon-info-circle"></i><div class="mdui-list-item-content">关于博客</div></a><a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/PY.html" title="我的朋友"><i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i><div class="mdui-list-item-content">我的朋友</div></a></div><aside id="nexmoe-sidebar"><div class="nexmoe-widget-wrap"><div class="nexmoe-widget nexmoe-search"><form id="search_form" action_e="https://www.google.com/search?q=site:shengcv.xyz" onsubmit="return search()"><label><input id="search_value" name="q" type="search" placeholder="搜索"></label></form></div></div><div class="nexmoe-widget-wrap"><h3 class="nexmoe-widget-title">社交按钮</h3><div class="nexmoe-widget nexmoe-social"><a class="mdui-ripple" href="https://space.bilibili.com/14888399" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color:#e76a8d;background-color:rgba(231,106,141,.15)"><i class="nexmoefont icon-bilibili"></i> </a><a class="mdui-ripple" href="https://github.com/Shengcv" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color:#191717;background-color:rgba(25,23,23,.15)"><i class="nexmoefont icon-github"></i> </a><a class="mdui-ripple" href="https://t.me/ShengCV" target="_blank" mdui-tooltip="{content: 'Telegram'}" style="color:#87cefa;background-color:rgba(135,206,250,.15)"><i class="nexmoefont icon-telegram"></i> </a><a class="mdui-ripple" href="https://steamcommunity.com/id/ShengCV" target="_blank" mdui-tooltip="{content: 'Steam'}" style="color:#4682b4;background-color:rgba(70,130,180,.15)"><i class="nexmoefont icon-steam"></i></a></div></div><div class="nexmoe-widget-wrap"><h3 class="nexmoe-widget-title">文章分类</h3><div class="nexmoe-widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/">实用工具</a> <span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/折腾笔记/">折腾笔记</a> <span class="category-list-count">4</span></li></ul></div></div><div class="nexmoe-widget-wrap"><h3 class="nexmoe-widget-title">标签云</h3><div id="randomtagcloud" class="nexmoe-widget tagcloud"><a href="/tags/Hexo/" style="font-size:10px">Hexo</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size:10px">博客</a> <a href="/tags/%E5%AE%9E%E7%94%A8/" style="font-size:10px">实用</a> <a href="/tags/%E7%94%B5%E8%84%91/" style="font-size:20px">电脑</a> <a href="/tags/%E7%BD%91%E7%AB%99/" style="font-size:10px">网站</a> <a href="/tags/%E9%94%AE%E7%9B%98/" style="font-size:10px">键盘</a></div></div></aside><div class="nexmoe-copyright">&copy; 2020 御剑神树 Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="https://docs.nexmoe.com/" target="_blank">Nexmoe</a></div></div></div><div id="nexmoe-content"><div class="nexmoe-primary"><div class="nexmoe-post"><div class="nexmoe-post-cover" style="padding-bottom:46.68705402650357%"><img data-src="https://cdn.jsdelivr.net/gh/Shengcv/ShengcvCDN@2.0/images/D5.jpg" data-sizes="auto" alt="博客性能优化" class="lazyload"><h1>博客性能优化</h1></div><div class="nexmoe-post-meta" style="margin:10px 0!important"><a><i class="nexmoefont icon-calendar-fill"></i>2020年03月29日</a> <a><i class="nexmoefont icon-areachart"></i>1.1k 字</a> <a><i class="nexmoefont icon-time-circle-fill"></i>大概 4 分钟</a></div><div class="nexmoe-post-right"><div class="nexmoe-fixed"><div class="nexmoe-valign"><div class="nexmoe-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前记"><span class="toc-number">1.</span> <span class="toc-text">前记</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo文件压缩"><span class="toc-number">2.</span> <span class="toc-text">Hexo文件压缩</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#图片优化"><span class="toc-number">3.</span> <span class="toc-text">图片优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#优化成果"><span class="toc-number">4.</span> <span class="toc-text">优化成果</span></a></li></ol></div></div></div></div><article><p>自从博客建立以来速度就一直不怎么理想,所以我在昨天为博客优化了一下,现在访问速度大幅提升,本文详细记录了我的优化过程,以供参考.</p><hr><a id="more"></a><h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>我使用的是Hexo配合GitHub搭建的免费博客且一并部署到了Coding,本来想着部署到Coding可以加速陆内用户的访问速度,不过目前看来Coding并不怎么给力…(还是部署到Gitee更能加快陆内用户的访问啊,但Gitee好像要花钱想了想还是算了…</p><h2 id="Hexo文件压缩"><a href="#Hexo文件压缩" class="headerlink" title="Hexo文件压缩"></a>Hexo文件压缩</h2><p>这里我用的是Hexo-neat压缩插件因为配置简单,无需额外的命令,只需使用原本的部署三连就可以自动完成静态资源的压缩,具体操作如下:</p><ol><li><strong>在博客根目录下安装Hexo-neat</strong><pre><code class="bash">npm install hexo-neat --save</code></pre></li><li><strong>为站点配置文件添加相关配置</strong><br>以下是我自己的相关配置，直接添加到<strong>_config.yml</strong>的末尾就可以了,当然也可以按照自己的需求去自定义配置.<pre><code class="bash"># hexo-neat
# 博文压缩
neat_enable: true
# 压缩html
neat_html:
enable: true
exclude:
# 压缩css  
neat_css:
enable: true
exclude:
 - &#39;**/*.min.css&#39;
# 压缩js
neat_js:
enable: true
mangle: true
output:
compress:
exclude:
 - &#39;**/*.min.js&#39;</code></pre></li></ol><p>这里附上此插件的Github项目地址: <a href="https://github.com/rozbo/hexo-neat" target="_blank" rel="noopener">Hexo-neat</a></p><h2 id="图片优化"><a href="#图片优化" class="headerlink" title="图片优化"></a>图片优化</h2><p><strong>使用PS优化博客图片</strong><br>这里我先是缩小了图像尺寸到最适合博客主题的程度,然后再使用了PS自带的<strong>存储为Web所用格式</strong>压缩了图片的大小,具体操作如下:<br><strong>缩小图像尺寸</strong></p><ol><li>用PS打开要优化的图像</li><li>点击左上方图像按钮</li><li>点击图像大小 (在这里就可以调整图像的尺寸了,修改完点击确定即可)</li></ol><p><strong>压缩图片大小</strong></p><ol><li>点击左上角文件按钮</li><li>点击导出</li><li>选择存储为Web所用格式(右上方可以设置优化的程度,修改完点击存储即可)</li></ol><p><strong>使用免费CDN:JsDelivr+Github</strong><br>优化完图片当然还是需要一个图床来加速图片的显示,这里我使用的是JsDelivr+Github的方式,具体操作如下:</p><ol><li><p>新建Github仓库</p></li><li><p>点击 Clone or download,复制仓库地址</p></li><li><p>在本地随便一个文件目录下右键 Git Bash Here,执行以下命令:</p><pre><code class="bash">git clone 复制的仓库地址</code></pre></li><li><p>复制需要上传的资源到本地的Github仓库,在本地Github仓库目录下右键 Git Bash Here,执行以下命令:<br>注意:JsDelivr不支持加载超过20M的资源.</p><pre><code class="bash">git status                    //查看状态
git add .                     //添加所有文件到暂存区
git commit -m &#39;第一次提交&#39;     //把文件提交到仓库
git push                      //推送至远程仓库</code></pre></li><li><p>到Github仓库里点击release发布仓库</p></li><li><p>自定义发布版本号</p></li><li><p>通过JsDelivr引用资源,使用方法:<a href="https://cdn.jsdelivr.net/gh/你的用户名/你的仓库名@发布的版本号/文件名" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/你的用户名/你的仓库名@发布的版本号/文件名</a><br>例子:<a href="https://cdn.jsdelivr.net/gh/Shengcv/ShengcvCDN@1.0/concept.jpg" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/Shengcv/ShengcvCDN@1.0/concept.jpg</a></p></li></ol><p>注意:版本号不是必需的,是为了区分新旧资源,如果不使用版本号,将会直接引用最新资源,除此之外还可以使用某个范围内的版本,查看所有资源等,具体使用方法如下:</p><blockquote><p>//加载任何GitHub版本，提交或分支<br>//注意：我们建议对支持npm的项目使用npm<br><a href="https://cdn.jsdelivr.net/gh/user/repo@version/file" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/user/repo@version/file</a><br>//加载jQuery v3.2.1<br><a href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js</a><br>//使用版本范围而不是特定版本<br><a href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js</a><br><a href="https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js</a><br>//完全省略该版本以获取最新版本<br>//您不应该在生产中使用它<br><a href="https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js</a><br>//将“ .min”添加到任何JS / CSS文件以获取缩小版本<br>//如果不存在，我们会为您生成<br><a href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js</a><br>//在末尾添加/以获取目录列表<br><a href="https://cdn.jsdelivr.net/gh/jquery/jquery/" target="_blank" rel="noopener">https://cdn.jsdelivr.net/gh/jquery/jquery/</a></p></blockquote><p>这里附上Jsdelivr的官方网站:<a href="https://www.jsdelivr.com/" target="_blank" rel="noopener">Jsdelivr</a></p><p>注意:我这里只是使用这种方式来加速首页的文章头图.<br>推荐使用以下图床来加速文章里的图片:</p><ul><li><a href="https://p.sda1.dev/" target="_blank" rel="noopener">p.sda1.dev</a></li><li><a href="https://sm.ms/" target="_blank" rel="noopener">SM.MS</a></li><li><a href="https://i.speed.moe/" target="_blank" rel="noopener">i.speed.moe</a></li></ul><h2 id="优化成果"><a href="#优化成果" class="headerlink" title="优化成果"></a>优化成果</h2><p><strong>网站性能测试地址:</strong></p><ul><li><a href="https://gtmetrix.com/" target="_blank" rel="noopener">GTmetrix</a></li><li><a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank" rel="noopener">PageSpeed Insights</a></li></ul><p><strong>本网站测试得分:</strong></p><p><strong>优化前</strong></p><p><img data-sizes="auto" data-src="https://p.sda1.dev/0/c923ba82aa4974c46303b4b8a1aa5bf8/D4.jpg" alt="优化前" class="lazyload"></p><p><strong>优化后</strong></p><p><img data-sizes="auto" data-src="https://i.loli.net/2020/04/22/neHrvzu9ExpOZT7.jpg" alt="优化后" class="lazyload"></p><p><img data-sizes="auto" data-src="https://i.loli.net/2020/04/22/tm4jRELuMe7YDFy.jpg" alt="优化后" class="lazyload"></p><p><img data-sizes="auto" data-src="https://i.loli.net/2020/04/22/z4aBXOrDMUHRgm2.jpg" alt="优化后" class="lazyload"></p><p>可以看到优化效果还是很明显哒~</p></article><div class="nexmoe-post-meta"><a class="nexmoefont icon-appstore-fill -link" href="/categories/%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/">折腾笔记</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/Hexo/" rel="tag">Hexo</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></div><div class="nexmoe-post-footer"><div class="nexmoe-post-copyright"><strong>本文作者：</strong>御剑神树<br><strong>本文链接：</strong><a href="https://shengcv.xyz/DWriting.html" title="https:&#x2F;&#x2F;shengcv.xyz&#x2F;DWriting.html" target="_blank" rel="noopener">https:&#x2F;&#x2F;shengcv.xyz&#x2F;DWriting.html</a><br><strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0 CN</a> 协议进行许可</div><section class="nexmoe-comment"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2.5/dist/disqusjs.min.css"><script src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.5/dist/disqus.min.js"></script><div id="disqus_thread"></div><script>var dsqjs=new DisqusJS({shortname:"shengcv",siteName:"御树树的小窝",identifier:"https://shengcv.xyz/DWriting.html",url:"https://shengcv.xyz/DWriting.html",title:"博客性能优化",api:"https://disqus.skk.moe/disqus/",apikey:"DwtyUXurZgr5EKHWTCxwoxRiIQHc450ZFpFxevhGvmSpi9CzooERLodkCRULrL9y",admin:"shengjones",adminLabel:"Sheng"})</script></section></div></div></div></div><script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js,gh/nexmoe/nexmoe.github.io@latest/js/app.js"></script><script>hljs.initHighlightingOnLoad()</script><script src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-164009694-1","auto"),ga("send","pageview")</script><script async src="https://www.google-analytics.com/analytics.js"></script></body></html><!-- rebuild by neat -->